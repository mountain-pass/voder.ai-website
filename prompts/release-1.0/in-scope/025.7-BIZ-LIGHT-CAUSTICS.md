# 025.7-BIZ-LIGHT-CAUSTICS: Surface Light Caustics and Edge Streaks

## Release Goal

_"Release 1.0: MVP Problem Validation - Create sophisticated 3D visual experience that demonstrates technical capability and validates the AI slop problem message"_

This story enhances the glass cube's visual appeal by adding static light caustics and edge streaks along the cube's surfaces, creating the organic, flowing light patterns that give the cube its distinctive sophisticated appearance and reinforce the "clarity emerging from chaos" metaphor central to the brand message.

## How This Story Contributes

This story transforms the glass cube from a simple transparent object into a visually captivating centerpiece by adding static light streaks and caustics along the cube's surfaces and edges. These flowing light patterns create depth, sophistication, and visual interest while reinforcing the core metaphor of "bringing clarity to chaos" - the light patterns represent structure and intent emerging from complexity. Starting with static patterns provides a clear baseline for visual validation before considering animation in future increments.

## User Story

So that I can be captivated by sophisticated visual design that reinforces the brand's "clarity from chaos" message through organic light patterns, as a business user (founder/VC), I want the glass cube to display static light caustics and edge streaks along its surfaces that create flowing, organic patterns on the transparent structure.

**INVEST Criteria Compliance**:

- **Independent**: Can be implemented independently as visual enhancement to existing cube
- **Negotiable**: Specific caustics technique and pattern intensity can be refined
- **Valuable**: Delivers distinctive visual signature that enhances brand perception and engagement
- **Estimable**: Clear scope for implementing static surface light effects in Three.js
- **Small**: Focused on adding static surface-based light patterns to existing cube geometry
- **Testable**: Visual regression tests can verify caustics rendering correctly with static patterns

## Acceptance Criteria

- [ ] **Surface Light Streaks**: Flowing, organic light patterns visible along the glass cube's surfaces and edges
- [ ] **Caustics Effect**: Realistic light refraction/reflection patterns that create depth and definition
- [ ] **Static Patterns**: Light patterns are static (non-animated) providing stable visual baseline
- [ ] **Surface Integration**: Light patterns follow cube surface topology and edge geometry
- [ ] **Organic Quality**: Light patterns have organic, natural quality (not mechanical/rigid)
- [ ] **Performance**: Caustics rendering maintains 60fps on target devices
- [ ] **Visual Consistency**: Light effects work cohesively with existing glass material (025.4)
- [ ] **Cross-Browser Compatibility**: Caustics render correctly across modern browsers
- [ ] **Visual Regression Tests**: Screenshot tests verify caustics appearance matches target aesthetic

## Requirements

### Light Caustics Implementation

- **REQ-CAUSTICS-TECHNIQUE**: Use appropriate Three.js technique for surface-based light effects (shader-based or texture-based)
- **REQ-SURFACE-PATTERNS**: Create flowing, organic light streak patterns along cube surfaces and edges
- **REQ-STATIC-RENDERING**: Light patterns are static (non-animated) for this increment
- **REQ-DEPTH-APPEARANCE**: Light patterns should create sense of depth through surface lighting variations
- **REQ-EDGE-EMPHASIS**: Light streaks should emphasize cube edges and surface topology
- **REQ-REFRACTION-SIMULATION**: Simulate light refraction through glass material for realistic caustics

### Visual Quality Standards

- **REQ-ORGANIC-QUALITY**: Light patterns should feel natural and organic, not mechanical or procedural
- **REQ-COLOR-HARMONY**: Light colors should harmonize with teal/turquoise glass material
- **REQ-BRIGHTNESS-BALANCE**: Light intensity balanced to be visible but not overwhelming
- **REQ-EDGE-SOFTNESS**: Light streaks have soft edges for organic appearance
- **REQ-PATTERN-COMPLEXITY**: Sufficient pattern complexity to be interesting without being chaotic

### Performance Requirements

- **REQ-PERF-60FPS**: Caustics rendering maintains 60fps on target devices
- **REQ-GPU-EFFICIENT**: Use GPU-accelerated techniques where possible
- **REQ-FALLBACK-STRATEGY**: Graceful degradation on lower-end devices if needed
- **REQ-RENDER-OPTIMIZATION**: Optimize shader complexity and texture resolution

### Integration Requirements

- **REQ-GLASS-INTEGRATION**: Caustics work cohesively with existing glass material (025.4)
- **REQ-LIGHTING-INTEGRATION**: Caustics respond appropriately to scene lighting
- **REQ-ROTATION-INTEGRATION**: Caustics appearance updates correctly during scroll rotation (025.2)
- **REQ-VIEWPORT-INTEGRATION**: Caustics render correctly in viewport layout (025.5)

### Accessibility and Safety

- **REQ-STATIC-SAFETY**: Static patterns eliminate seizure risks from animation or flashing
- **REQ-PERF-DEGRADATION**: Provide option to disable effects for performance/accessibility if needed

## Dependencies

- 025.0-BIZ-3D-ANIMATION (requires base cube geometry and Three.js setup)
- 025.4-BIZ-GLASS-MATERIAL (requires enhanced glass material to integrate with caustics)
- 025.5-BIZ-VIEWPORT-LAYOUT (requires viewport layout for proper rendering context)

## Implementation Notes

### Potential Approaches

1. **Shader-based Surface Effects** (Recommended)
   - Custom fragment shader with noise functions applied to cube surfaces
   - Pros: Highly performant, precise control, static patterns easy to implement
   - Cons: Requires shader expertise

2. **Texture-based Light Maps**
   - Pre-rendered or procedural light streak textures mapped to surfaces
   - Pros: Easier to implement, art-directable, predictable results
   - Cons: Larger asset size, less flexible

3. **Emissive Material Layers**
   - Additional geometry layers with emissive materials creating streak patterns
   - Pros: Leverages Three.js built-in materials, good visual quality
   - Cons: More geometry to render, requires careful blending

4. **Normal Map + Lighting Technique**
   - Enhanced normal maps to create light streak illusion through material interaction
   - Pros: Works with existing glass material, performant
   - Cons: May be harder to achieve exact aesthetic

### Technical Considerations

- Consider using Three.js `MeshPhysicalMaterial` transmission features for realistic light behavior
- Custom shaders for surface-based caustics will provide best control and performance
- Static patterns significantly reduce performance overhead compared to animated approaches
- Balance visual quality with performance constraints
- Test across different device capabilities (desktop, mobile, tablets)
- Consider WebGL shader precision limitations on mobile devices
- Static implementation provides baseline for potential animation story (025.8)

### Visual Reference

Target appearance: Organic, flowing light streaks along the surfaces and edges of the glass cube creating depth and visual interest, similar to light refracting through textured glass or ice. Light patterns should emphasize the cube's geometry while maintaining an organic, non-mechanical quality. Patterns are static (non-animated) for this increment.

## Definition of Done

- [ ] All acceptance criteria met
- [ ] Code reviewed and approved
- [ ] Visual regression tests passing with caustics visible
- [ ] Performance tests confirm 60fps maintenance
- [ ] Cross-browser testing completed
- [ ] Static patterns verified in visual regression tests
- [ ] Documentation updated with caustics implementation details
- [ ] Deployed and visually verified in production environment
- [ ] Future animation story (025.8) can be considered based on static baseline success
